---
layout: null
---
{%- assign searchposts = "" | split: "" -%}
{%- for post in site.posts -%}
  {%- if post.title.size > 0 -%}
    {%- assign searchposts = searchposts | push: post -%}
  {%- endif -%}
{%- endfor -%}
{%- assign searchpages = "" | split: "" -%}
{%- for page in site.pages -%}
  {%- if page.title.size > 0 -%}
    {%- assign searchpages = searchpages | push: page -%}
  {%- endif -%}
{%- endfor -%}
[ {% for post in searchposts %}
  {
    "title"    : "{{ post.title | escape }}",
    "category" : "{{ post.category }}",
    "tags"     : "{{ post.tags | join: ', ' }}",
    "url"      : "{{ site.baseurl }}{{ post.url }}",
    "date"     : "{{ post.date }}",
    "content"  : "{{ post.content | strip_html | strip_newlines }}"
  }{% unless forloop.last %},
{% endunless %}{% endfor %}{% if searchposts.size > 0 %},
{% endif %}
{% for page in searchpages %}  {
    "title"    : "{{ page.title | escape }}",
    "category" : "{{ page.category }}",
    "tags"     : "{{ page.tags | join: ', ' }}",
    "url"      : "{{ site.baseurl }}{{ page.url }}",
    "date"     : "{{ page.date }}",
    "content"  : "{{ page.content | strip_html | strip_newlines }}"
  }{% unless forloop.last %},
{% endunless %}{% endfor %}
]
